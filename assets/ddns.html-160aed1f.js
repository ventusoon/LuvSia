import{_ as s,a,b as i,c as r,d,e as c,f as u,g as m,h as _,i as p,j as h,k as g,l as f}from"./10-0a074767.js";import{_ as b}from"./plugin-vue_export-helper-c27b6911.js";import{r as D,o as v,c as k,f as N,a as e,d as o,b as l,e as t}from"./app-08df520e.js";const P={},x=t('<blockquote><p><em><strong>Using DDNS and Port forwarding to achieve remote access to devices on an internal network</strong></em></p></blockquote><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><ul><li><strong>最近迷上了AI画图软件 <em><code>stable-diffusion-webui</code></em> ，由于它对 <em><code>GPU</code></em> 的依赖很大，我只能使用家里的电脑来炼丹（也就一张6年前的1060😥），奈何又在外地上班，只能走进了我一直望而却步的动态域名解析服务，来实现远程控制家中电脑，以及其他网络设备的目的。</strong></li></ul>',3),S=e("p",null,[e("img",{src:s,alt:"Z",title:":smirk:",loading:"lazy"}),e("br"),e("img",{src:a,alt:"D",title:":smirk:",loading:"lazy"}),e("br"),e("img",{src:i,alt:"B",title:":smirk:",loading:"lazy"})],-1),I=e("li",null,[e("p",null,[e("strong",null,"写本篇教程（备忘录），一是彰显成就感，二是带给大家一些思路，让有相同需求的朋友少走弯路（毕竟我找了很多教程都没有说清楚DDNS到底是个什么，又要怎么使用）。")])],-1),y={href:"https://baike.baidu.com/item/ddns/670146",target:"_blank",rel:"noopener noreferrer"},z=e("em",null,"DDNS",-1),G=e("em",null,"Dynamic Domain Name Server",-1),A=e("code",null,"ipv4",-1),O={href:"https://www.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"},C=e("em",null,"Cloudflare",-1),E={href:"https://github.com/jeessy2/ddns-go",target:"_blank",rel:"noopener noreferrer"},V=e("em",null,"DDNS-GO",-1),w={href:"https://baike.baidu.com/item/%E5%85%AC%E7%BD%91IP",target:"_blank",rel:"noopener noreferrer"},B=e("em",null,"IP",-1),T=e("em",null,[e("code",null,"IP")],-1),R=e("figure",null,[e("img",{src:r,alt:"RDP",tabindex:"0",loading:"lazy"}),e("figcaption",null,"可以看到这里的延迟十分之低")],-1),W=t('<h2 id="开工" tabindex="-1"><a class="header-anchor" href="#开工" aria-hidden="true">#</a> 开工</h2><ul><li><p><strong>开始之前先简单说下我家里的网络布局，弱电箱一个光猫桥接模式，一个主路由负责拨号，卧室一个 <em><code>K2P</code></em> 路由 <em><code>ap</code></em> 模式，一个旧笔记本电脑充当软路由（旁路由），安装了 <em><code>PVE</code></em> ，<em><code>PVE</code></em> 上使用了 <em><code>openWRT</code></em>，还有一台台式电脑，忘了在 <em><code>visio</code></em> 上画出来。</strong></p><figure><img src="'+p+'" alt="网络布局" tabindex="0" loading="lazy"><figcaption>网络布局图</figcaption></figure></li><li><p>不要问我为什么不在 <em><code>openWRT</code></em> 上 <em><code>DHCP</code></em> ，我试了很多次都无法联网，可能是因为网口绑定了 <em><code>MAC</code></em> 地址，我也不知道怎么取消绑定，所以我只能在主路由上绑定我电脑的 <em><code>MAC</code></em> 才能上网。（可能也不是这个原因，我在 <em><code>openWRT</code></em> 上绑定 <em><code>WAN</code></em> 口地址也不能上网。）<strong>我家的网络环境真的太复杂了😥</strong></p></li></ul><h2 id="正式开始" tabindex="-1"><a class="header-anchor" href="#正式开始" aria-hidden="true">#</a> 正式开始</h2>',3),j={href:"https://github.com/jeessy2/ddns-go/releases",target:"_blank",rel:"noopener noreferrer"},q=e("em",null,[e("code",null,"DDNS-GO")],-1),L=t(`<p>安装</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>.<span class="token punctuation">\\</span>ddns-go.exe <span class="token parameter variable">-s</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>卸载</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>.<span class="token punctuation">\\</span>ddns-go.exe <span class="token parameter variable">-s</span> uninstall
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+h+'" alt="DDNS-GO" tabindex="0" loading="lazy"><figcaption>DDNS-GO</figcaption></figure>',5),M=e("li",null,[e("p",null,[e("strong",null,[l("安装好后，在服务中可以看到 "),e("em",null,[e("code",null,"ddns-go")]),l(" 服务，并设置自启动")])]),e("figure",null,[e("img",{src:d,alt:"DDNS-GO服务",tabindex:"0",loading:"lazy"}),e("figcaption",null,"DDNS-GO服务开启")])],-1),U={href:"http://127.0.0.1:9876",target:"_blank",rel:"noopener noreferrer"},F=e("em",null,[e("code",null,"http://127.0.0.1:9876")],-1),H=e("em",null,[e("code",null,"ddns-go")],-1),K=e("figure",null,[e("img",{src:c,alt:"DDNS-GO配置1",tabindex:"0",loading:"lazy"}),e("figcaption",null,"DDNS-GO页面")],-1),Z=t('<li><p><strong>去 <em><code>cloudflare</code></em> 获取 <em><code>API</code></em> 令牌既上图中的 <em><code>Token</code></em> ，重点注意区域资源要选所有区域</strong></p><p><img src="'+g+'" alt="cloudflare配置1" title="cloudflare配置" loading="lazy"><br><img src="'+f+'" alt="cloudflare配置2" title="一定要选所有区域" loading="lazy"></p></li>',1),J=e("em",null,[e("code",null,"DDNS-GO")],-1),Q=e("em",null,[e("code",null,"IPv4")],-1),X=e("em",null,[e("code",null,"IPv6")],-1),Y=e("code",null,"域名",-1),$=e("em",null,[e("code",null,"IPv6")],-1),ee={href:"https://cf-ns.com/cdn-cgi/trace",target:"_blank",rel:"noopener noreferrer"},le=e("em",null,[e("code",null,"IP")],-1),ne=e("p",null,[e("img",{src:u,alt:"DDNS-GO配置2",title:"IPv4",loading:"lazy"}),e("br"),e("img",{src:m,alt:"DDNS-GO配置3",title:"IPv6",loading:"lazy"}),e("br"),e("img",{src:_,alt:"DDNS-GO配置4",title:"选择是否外网连接，以及设置访问账号密码",loading:"lazy"})],-1),oe=e("li",null,[e("p",null,[e("strong",null,[l("点击保存后，成功后，你会在 "),e("em",null,"Cloudflare"),l(" 上你的域名 "),e("em",null,[e("code",null,"dns")]),l(" 服务中看到你已经解析了的A记录（IPv4地址）或者AAAA记录（IPv6地址），"),e("em",null,[e("code",null,"ddns-go")]),l(" 中你也可以看到解析成功的提示")])])],-1),te=e("li",null,[e("p",null,[e("strong",null,"到此，你终于成功解析你的动态IP，在主路由、旁路由上设置好端口转发服务，就可以随时随地访问家中的设备。")])],-1),se=e("h2",{id:"抽时间-再把如何有效的进行端口转发记录下来-以防我这个狗脑子又忘了",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#抽时间-再把如何有效的进行端口转发记录下来-以防我这个狗脑子又忘了","aria-hidden":"true"},"#"),l(" 抽时间，再把如何有效的进行端口转发记录下来，以防我这个狗脑子又忘了")],-1);function ae(ie,re){const n=D("ExternalLinkIcon");return v(),k("div",null,[x,N(" more "),S,e("ul",null,[I,e("li",null,[e("p",null,[e("a",y,[z,o(n)]),l("（全名："),G,l("），动态域名服务，说人话就是将家中内网的动态 "),A,l(" 地址映射到一个固定的域名解析服务上。")])]),e("li",null,[e("p",null,[e("a",O,[C,o(n)]),l(" 全球知名的DNS服务商。")])]),e("li",null,[e("p",null,[e("a",E,[V,o(n)]),l(" 超好用的DDNS解析服务工具。感谢作者大大解决了我最关键的问题。")])]),e("li",null,[e("p",null,[e("a",w,[l("公网 "),B,o(n)]),l(" 不得不说电信的服务水平，半天时间真就给我开通了，这里就不说这玩意儿怎么用了，接触网络的人基本都知道，虽然现在有很多办法可以绕过公网 "),T,l(" 来访问内网，但是通过我的测试，用了很多的远程连接服务和内网穿透工具，还是最原始的办法性价比更高，体验更是一流。")]),R])]),W,e("ul",null,[e("li",null,[e("strong",null,[l("下载"),e("a",j,[q,o(n)]),l("到本地并解压，使用管理员权限CD到根目录")])])]),L,e("ul",null,[M,e("li",null,[e("p",null,[e("strong",null,[l("打开 "),e("a",U,[F,o(n)]),l("，可以看到 "),H,l(" 支持很多家动态解析服务商")])]),K]),Z,e("li",null,[e("p",null,[e("strong",null,[l("回到 "),J,l(" 中如下图，像我一样配置即可，有公网的只勾选 "),Q,l(" ，没有公网的选 "),X,l(" （我两个都有，所以都选了，你也可以，经测试无伤大雅），在主机名后面填上你的"),Y,l("。至于如何获得 "),$,l(" ，这个我下次再做一个详细的教程。（推荐一个好用的"),e("a",ee,[l("CF国内API"),o(n)]),l("，可以准确获取你的 "),le,l(" 本地地址，无论你是否使用科学上网工具）")])]),ne]),oe,te]),se])}const me=b(P,[["render",ae],["__file","ddns.html.vue"]]);export{me as default};
