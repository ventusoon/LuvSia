import{_ as l}from"./1-5a2eb01e.js";import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c,a as e,b as n,e as s,f as i}from"./app-531dc591.js";const d={},p=e("blockquote",null,[e("p",null,[e("em",null,[e("strong",null,"Build ChatGPT Reverse Proxy")])])],-1),u=e("em",null,"ChatGPT-Web",-1),m={href:"https://github.com/linweiyuan/go-chatgpt-api",target:"_blank",rel:"noopener noreferrer"},v=e("img",{src:"https://img.shields.io/badge/github-go--chatgpt--api-pink",alt:"",loading:"lazy"},null,-1),h=i(`<h2 id="æ­å»ºæ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#æ­å»ºæ­¥éª¤" aria-hidden="true">#</a> æ­å»ºæ­¥éª¤</h2><h3 id="ä¸€ã€å®‰è£…-docker-åŠ-docker-compose" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å®‰è£…-docker-åŠ-docker-compose" aria-hidden="true">#</a> ä¸€ã€å®‰è£… <em>Docker</em> åŠ <em>Docker-compose</em></h3><ul><li>å®‰è£… <em>Docker</em></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#æ›´æ–°ã€å®‰è£…å¿…å¤‡è½¯ä»¶</span>

<span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">wget</span> <span class="token function">nano</span>

<span class="token comment">#å®‰è£…dockerï¼š</span>

<span class="token function">curl</span> <span class="token parameter variable">-sSL</span> https://get.docker.com/ <span class="token operator">|</span> <span class="token function">sh</span>


<span class="token comment">#å¼€æœºè‡ªåŠ¨å¯åŠ¨</span>

systemctl start <span class="token function">docker</span>

systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®‰è£… <em>Docker-compose</em></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;https://github.com/docker/compose/releases/download/v2.22.0/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>&quot;</span> <span class="token parameter variable">-o</span> /usr/local/bin/docker-compose
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,6),b={id:"äºŒã€å®‰è£…-go-chatgpt-api",tabindex:"-1"},g=e("a",{class:"header-anchor",href:"#äºŒã€å®‰è£…-go-chatgpt-api","aria-hidden":"true"},"#",-1),k={href:"https://github.com/linweiyuan/go-chatgpt-api",target:"_blank",rel:"noopener noreferrer"},_=e("em",null,"go-chatgpt-api",-1),f=i(`<ul><li>åˆ›å»ºç›®å½•</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/docker_data/go-chatgpt-api
<span class="token builtin class-name">cd</span> /data/docker_data/go-chatgpt-api
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»º <em>docker-compose.yml</em> æ–‡ä»¶</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">nano</span> docker-compose.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>åœ¨æ–‡ä»¶ä¸­å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼Œç„¶å <em>Ctrl+X</em> ä¿å­˜ï¼ŒæŒ‰ <em>Y</em> é€€å‡º</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>version: <span class="token string">&quot;3&quot;</span>
services:
  go-chatgpt-api:
    container_name: go-chatgpt-api
    image: linweiyuan/go-chatgpt-api
    ports:
      - <span class="token number">8080</span>:8080  <span class="token comment"># å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£ï¼›å®¿ä¸»æœºç›‘å¬ç«¯å£å¯æŒ‰éœ€æ”¹ä¸ºå…¶å®ƒç«¯å£</span>
    environment:
      - <span class="token assign-left variable">GIN_MODE</span><span class="token operator">=</span>release
      - <span class="token assign-left variable">CHATGPT_PROXY_SERVER</span><span class="token operator">=</span>http://chatgpt-proxy-server:9515
      <span class="token comment">#- NETWORK_PROXY_SERVER=http://host:port     # NETWORK_PROXY_SERVERï¼šç§‘å­¦ä¸Šç½‘ä»£ç†åœ°å€ï¼Œä¾‹å¦‚ï¼šhttp://10.0.5.10:7890</span>
      <span class="token comment">#- NETWORK_PROXY_SERVER=socks5://host:port   # NETWORK_PROXY_SERVERï¼šç§‘å­¦ä¸Šç½‘ä»£ç†åœ°å€</span>
    depends_on:
      - chatgpt-proxy-server
    restart: unless-stopped

  chatgpt-proxy-server:
    container_name: chatgpt-proxy-server
    image: linweiyuan/chatgpt-proxy-server
    restart: unless-stopped
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»ºå®Œæˆåï¼Œè¿è¡Œ</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æ£€æŸ¥è¿è¡Œçš„å®¹å™¨ï¼›ç¡®ä¿å®¹å™¨çŠ¶æ€ä¸ºUP</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æ£€æµ‹å®¹å™¨æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç›‘å¬ç«¯å£æ˜¯å¦ç›‘å¬</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ss -tnlp<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">8080</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä¸‰ã€ä½¿ç”¨è‡ªå»ºåä»£" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€ä½¿ç”¨è‡ªå»ºåä»£" aria-hidden="true">#</a> ä¸‰ã€ä½¿ç”¨è‡ªå»ºåä»£</h3>`,13),x={href:"http://ip:8080/conversation",target:"_blank",rel:"noopener noreferrer"},y=e("em",null,"ip",-1),R=e("em",null,"nginx",-1),E=e("em",null,"ip",-1),P={href:"https://example.com/conversation",target:"_blank",rel:"noopener noreferrer"},O=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># åå‘ä»£ç†ï¼Œå¯é€‰</span>
    API_REVERSE_PROXY: https://example.com/conversation
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç°åœ¨æˆ‘ä»¬è®¿é—®chatgpt-webï¼ŒæŸ¥çœ‹æ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œæ³¨æ„ç¡®ä¿ <em>chatgpt-proxy-server</em> è¿è¡Œæ­£å¸¸ï¼Œ <em>go-chatgpt-api</em> éœ€è¦åˆå§‹åŒ–å¯åŠ¨éœ€è¦è€å¿ƒç­‰å¾…</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹å®¹å™¨æ—¥å¿—æ˜¯å¦è¿è¡Œæ­£å¸¸</span>
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> chatgpt-proxy-server
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> go-chatgpt-api
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®Œå·¥" tabindex="-1"><a class="header-anchor" href="#å®Œå·¥" aria-hidden="true">#</a> å®Œå·¥</h2><figure><img src="`+l+'" alt="1" tabindex="0" loading="lazy"><figcaption>ğŸ˜</figcaption></figure>',5),T={id:"æœ¬æ•™ç¨‹æ¥æº",tabindex:"-1"},V=e("a",{class:"header-anchor",href:"#æœ¬æ•™ç¨‹æ¥æº","aria-hidden":"true"},"#",-1),N={href:"https://github.com/dqzboy/ChatGPT-Porxy",target:"_blank",rel:"noopener noreferrer"},S=e("img",{src:"https://img.shields.io/badge/github-dqzboy/ChatGPT--Porxy-lemonchiffon",alt:"",loading:"lazy"},null,-1);function q(w,C){const a=o("ExternalLinkIcon");return r(),c("div",null,[p,e("ul",null,[e("li",null,[u,n(" é¡¹ç›®çš„å…è´¹ä»£ç†æŒ‚äº†ï¼Œæ•…æ­¤ï¼Œé€‰æ‹©æœ¬é¡¹ç›® "),e("a",m,[v,s(a)]),n(" æ¥è§£å†³ä»£ç†é—®é¢˜ã€‚")])]),h,e("h3",b,[g,n(" äºŒã€å®‰è£… "),e("a",k,[_,n(),s(a)])]),f,e("ul",null,[e("li",null,[n("ä½¿ç”¨access tokenæ¨¡å¼ï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬è‡ªå»ºçš„ä»£ç†åœ°å€è¿›è¡Œè®¿é—®ï¼›è‡ªå»ºIPçš„è®¿é—®åœ°å€ä¸º "),e("em",null,[e("a",x,[n("http://ip:8080/conversation"),s(a)])]),n(" ï¼›å¦‚æœä¸æƒ³è®© "),y,n(" æš´éœ²ï¼Œå¯ä»¥ç”¨ "),R,n(" å†åä»£ "),E,n(" +ç«¯å£ï¼Œ "),e("em",null,[e("a",P,[n("https://example.com/conversation"),s(a)])]),n(" ã€‚")])]),O,e("h2",T,[V,n(" æœ¬æ•™ç¨‹æ¥æºï¼š"),e("a",N,[S,s(a)])])])}const z=t(d,[["render",q],["__file","chatgpt-proxy.html.vue"]]);export{z as default};
